<div class="filters-container">
  <div class="department-filter">
    <div class="form-group">
      <select id="department" class="custom-select" style="width:260px; background: rgb(237, 233, 233); color: rgb(170 170 181)"  [(ngModel)]="selectedDepartment" (change)="filtrarUsuariosPorDepartamento()">
        <option value="" disabled selected>Seleccionar un Departamento</option>
        <option value="">TODOS</option>
        <option *ngFor="let depa of departamentos" [value]="depa.id">
          {{ depa.nombre }}
        </option>
      </select>
      
    </div>
  <br />
    <div class="form-group">
      <select id="cargo" class="custom-select" style="width:260px; background: rgb(237, 233, 233); color: rgb(170 170 181)" [(ngModel)]="selectedCargo" (change)="filtrarUsuariosPorCargo()">
        <option value="" disabled selected>Seleccionar un Cargo</option>
        <option value="">TODOS</option>
        <option *ngFor="let car of cargos" [value]="car.id">
          {{ car.nombre }}
        </option>
      </select>
    </div>

  </div>

  <button mat-flat-button (click)="abrirModalCrearUsuario()" style="background: rgb(229, 226, 226); color:rgb(120, 120, 123); font-size: 11px;">Crear Nuevo Usuario</button>

  
</div>
<hr class="hrr" />
<div class="dale">
  

@if(usuarios){
  <table mat-table [dataSource]="usuarios" multiTemplateDataRows class="mat-elevation-z10 indice-elementos">
  
    <ng-container matColumnDef="usuario">
      <th mat-header-cell *matHeaderCellDef class="center-header">Usuario</th>
      <td mat-cell *matCellDef="let uss">{{ uss.usuario }}</td>
    </ng-container>
  
    <ng-container matColumnDef="nombres">
      <th mat-header-cell *matHeaderCellDef class="center-header">Nombres</th>
      <td mat-cell *matCellDef="let uss">{{ uss.primerNombre + ' ' + (uss.segundoNombre ?? '') }}</td>

    </ng-container>
  
    <ng-container matColumnDef="apellidos">
      <th mat-header-cell *matHeaderCellDef class="center-header">Apellidos</th>
      <td mat-cell *matCellDef="let uss">{{ uss.primerApellido + ' ' + (uss.segundoApellido ?? '') }}</td>

    </ng-container>
  
    <ng-container matColumnDef="idDepartamento">
      <th mat-header-cell *matHeaderCellDef class="center-header">Departamento</th>
      <td mat-cell *matCellDef="let uss">{{ uss.dep }}</td>
    </ng-container>
  
    <ng-container matColumnDef="idCargo">
      <th mat-header-cell *matHeaderCellDef class="center-header">Cargo</th>
      <td mat-cell *matCellDef="let uss">{{ uss.car }}</td>
    </ng-container>

    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef class="center-header">Email</th>
      <td mat-cell *matCellDef="let uss">{{ uss.email }}</td>
    </ng-container>
  
    <ng-container matColumnDef="acciones" >
      <th mat-header-cell *matHeaderCellDef class="center-header">Acciones</th>
      <td mat-cell *matCellDef="let uss">
        <button style="color:green" mat-flat-button (click)="abrirModalEditarUsuario(uss.id)">
          <i class="fa fa-edit"></i> Editar
        </button>
        <button style="color:red" mat-flat-button (click)="confirmarEliminacion(uss.id)">
          <i class="fa fa-trash"></i> Eliminar
        </button>
      </td>
    </ng-container>
  
    <tr mat-header-row *matHeaderRowDef="columnasAMostrar"></tr>
    <tr mat-row *matRowDef="let row; columns: columnasAMostrar"></tr>
  
  </table>
  <br />
  <div class="contador-registros" *ngIf="usuarios.length">
    <p>Total Registros: {{ usuarios.length }}</p>
  </div>
  
}
</div>